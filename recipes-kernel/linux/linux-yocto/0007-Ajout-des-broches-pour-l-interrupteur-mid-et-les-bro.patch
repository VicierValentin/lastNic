From e82dd7a5e60d8fd30b969de9a7fd21ba557c6bda Mon Sep 17 00:00:00 2001
From: cdemenou <charles.demenou@madic.com>
Date: Wed, 19 Feb 2025 17:55:29 +0100
Subject: [PATCH] Ajout des broches pour l'interrupteur mid et les broches qui
 restait inutilise

---
 arch/arm/boot/dts/am335x-boneblack.dts | 41 ++++++++++++++++++++++++--
 1 file changed, 38 insertions(+), 3 deletions(-)

diff --git a/arch/arm/boot/dts/am335x-boneblack.dts b/arch/arm/boot/dts/am335x-boneblack.dts
index bf77d945a4da..ed553d8a4fde 100644
--- a/arch/arm/boot/dts/am335x-boneblack.dts
+++ b/arch/arm/boot/dts/am335x-boneblack.dts
@@ -39,9 +39,9 @@ &gpio0 {
 		"P8_33 [lcd d13]",
 		"P8_31 [lcd d14]",
 		"P8_32 [lcd d15]",
-		"P9_20 [i2c2_sda]",
+		"bg_demande_use_flash",
 		"P9_19 [i2c2_scl]",
-		"P9_26 [uart1_rxd]",
+		"bg_en_mode_mid",
 		"reset_tactile",
 		"[rmii1_txd3]",
 		"[rmii1_txd2]",
@@ -156,7 +156,7 @@ &gpio3 {
 		"P9_42B [ecappwm0]",
 		"buzzer",
 		"P9_41A",
-		"P9_25",
+		"stm_demande_use_flash",
 		"NC",
 		"NC",
 		"NC",
@@ -240,6 +240,23 @@ AM33XX_PADCONF(AM335X_PIN_GPMC_OEN_REN, PIN_INPUT, MUX_MODE7) /*Pin address 0x09
 								>;
 						};
 
+						beagle_mode_mid_pin: pinmux-beagle_mode_mid_pin {
+								pinctrl-single,pins = <
+									AM33XX_PADCONF(AM335X_PIN_UART1_RXD, PIN_OUTPUT, MUX_MODE7) /*Pin address 0x0184 0x07  gpio0.15, OMAP_MUX_MODE7 | AM33XX_PIN_OUTPUT */
+								>;
+						};
+
+						stm_demande_use_flash_pin: pinmux-stm_demande_use_flash_pin {
+								pinctrl-single,pins = <
+									AM33XX_PADCONF(AM335X_PIN_MCASP0_AHCLKX, PIN_INPUT, MUX_MODE7) /*Pin address 0x0184 0x07  gpio0.15, OMAP_MUX_MODE7 | AM33XX_PIN_OUTPUT */
+								>;
+						};
+
+						beagle_demande_use_flash_pin: pinmux-beagle_demande_use_flash_pin {
+								pinctrl-single,pins = <
+									AM33XX_PADCONF(AM335X_PIN_UART1_CTSN, PIN_OUTPUT, MUX_MODE7) /*Pin address 0x0184 0x07  gpio0.15, OMAP_MUX_MODE7 | AM33XX_PIN_OUTPUT */
+								>;
+						};
 };
 
 &i2c1{
@@ -313,6 +330,24 @@ resistance117_indice_carte_pin@2 {
 						gpios = <&gpio2 3 0>;
 				};
 			};
+			bg_en_mode_mid {
+				bg_en_mode_mid@0{
+					label = "bg_en_mode_mid";
+					gpios = <&gpio0 14 0>;
+				};
+			};
+			stm_demande_use_flash {
+				stm_demande_use_flash@0{
+					label = "stm_demande_use_flash";
+					gpios = <&gpio3 21 0>;
+				};
+			};
+			bg_demande_use_flash {
+				bg_demande_use_flash@0{
+					label = "bg_demande_use_flash";
+					gpios = <&gpio0 12 0>;
+				};
+			};
 };
 
 &i2c0{
-- 
2.34.1

